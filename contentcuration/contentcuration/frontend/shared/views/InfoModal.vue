<template>

  <div :style="{ display: 'inline' }">
    <KIconButton
      icon="help"
      size="mini"
      :color="$themeTokens.primary"
      data-test="info-icon"
      @click="displayDialog = !displayDialog"
    />
    <KModal
      v-if="displayDialog"
      data-test="info-dialog"
      :title="header"
      :cancelText="$tr('close')"
      @cancel="displayDialog = false"
    >
      <slot></slot>
      <div v-for="(item, index) in items" :key="`info-${index}`" class="mb-4 mt-3">
        <h1 class="font-weight-bold mb-1 subheading">
          <slot name="header" :item="item"></slot>
        </h1>
        <p class="body-1 grey--text">
          <slot name="description" :item="item"></slot>
        </p>
      </div>
    </KModal>
  </div>

</template>

<script>

  export default {
    name: 'InfoModal',
    props: {
      header: {
        type: String,
        required: true,
      },
      items: {
        type: Array,
        default() {
          return [];
        },
      },
    },
    data() {
      return {
        displayDialog: false,
      };
    },
    $trs: {
      close: 'Close',
    },
  };

</script>

<style lang="less" scoped>

  /deep/ p {
    font-size: 12pt;
    line-height: normal;
    color: var(--v-grey-darken3);
  }

</style>
